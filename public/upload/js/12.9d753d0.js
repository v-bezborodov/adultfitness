(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"/dD+":function(t,e,i){},"6Xh3":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width q-mt-md"},[i("a-block-divider",{attrs:{title:t.$t("comment.comments"),customIcon:"sent-mail",description:t.count}}),i("div",{staticClass:"comments"},t._l(t.comments,function(e,n){return i("a-comment-child",{key:n,attrs:{item:t.item,comment:e},on:{childes:t.setChilds}})}))],1)},o=[];n._withStripped=!0;var r=i("MVZn"),a=i.n(r),s=(i("Kw5r"),i("VuJm")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment"},[i("img",{staticClass:"avatar",attrs:{src:t.comment.author.avatar,alt:""}}),i("div",{staticClass:"item"},[t.comment&&t.comment.author?i("div",{staticClass:"head"},[i("h4",[t._v(t._s(t.comment.author.name))]),i("p",[t._v(t._s(t.comment.time))])]):t._e(),i("div",{staticClass:"message"},[t._v(t._s(t.comment.message))]),i("div",{staticClass:"btns"},[t.parent?t._e():i("q-btn",{staticClass:"q-mr-md white",attrs:{icon:"reply",label:t.$t("comment.reply"),flat:"",disabled:!t.me},on:{click:function(e){t.reply=!t.reply}}}),i("q-btn",{staticClass:"q-ml-md",class:{lighted:t.comment.ilike},attrs:{label:t.comment.like,loading:t.sendLike,icon:"thumb_up",flat:"",disabled:!t.me},on:{click:function(e){t.vote("like",t.comment.id)}}}),i("q-btn",{class:{lighted:t.comment.idislike},attrs:{label:t.comment.dislike,loading:t.sendDislike,icon:"thumb_down",flat:"",disabled:!t.me},on:{click:function(e){t.vote("dislike",t.comment.id)}}}),t.parent?t._e():i("q-btn",{staticClass:"link",attrs:{label:t.$t("comment.child"),loading:t.getChilds,flat:"","no-caps":""},on:{click:t.viewComments}},[i("q-spinner-facebook",{attrs:{slot:"loading",size:"20px"},slot:"loading"})],1)],1),t.reply?i("a-comment-add",{attrs:{item:t.item,parentId:t.comment.id},on:{close:function(e){t.reply=!1}}}):t._e(),t.comment.childs?i("div",{staticClass:"comments"},t._l(t.comment.childs,function(e,n){return i("tree-comment",{key:n,staticClass:"comment child",attrs:{item:t.item,parent:e.id,comment:e}})})):t._e()],1)])},l=[];c._withStripped=!0;var d=i("Vo53"),u=i("L2JU"),m={name:"tree-comment",components:{"a-comment-add":d["a"]},props:{comment:{},item:{},parent:{}},data:function(){return{sendLike:!1,sendDislike:!1,getChilds:!1,reply:!1}},computed:a()({},Object(u["c"])({me:"auth/me"})),methods:a()({},Object(u["b"])({loadChild:"comment/child",sendVote:"comment/vote"}),{viewComments:function(){var t=this;this.getChilds=!0,this.loadChild(this.comment.id).then(function(e){t.getChilds=!1}).catch(function(){t.getChilds=!1})},vote:function(t,e){var i=this;"like"==t?this.sendLike=!0:this.sendDislike=!0,this.sendVote({id:e,type:t,item:this.item.item_type}).then(function(){i.sendLike=!1,i.sendDislike=!1}).catch(function(){i.sendDislike=!1,i.sendLike=!1})}})},f=m,h=(i("rXyo"),i("KHd+")),v=Object(h["a"])(f,c,l,!1,null,null,null);v.options.__file="comment-child.vue";var p=v.exports,y={components:{"a-block-divider":s["a"],"a-comment-child":p},computed:a()({},Object(u["c"])({comments:"comment/comments"})),props:{item:{},count:{}},methods:{setChilds:function(t){this.$emit("childes",t)}}},g=y,w=Object(h["a"])(g,n,o,!1,null,null,null);w.options.__file="comment-list.vue";e["a"]=w.exports},"7ggI":function(t,e,i){"use strict";var n=i("vXam"),o=i.n(n);o.a},"9+It":function(t,e,i){"use strict";var n=i("vHl0"),o=i.n(n);o.a},"9UBY":function(t,e,i){},DQ8H:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"black flex",staticStyle:{width:"100%"}},[t.video?i("div",{staticClass:"container"},[i("div",{staticClass:"row gutter-sm"},[i("div",{staticClass:"col-xs-12 col-sm-9 play-page"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("a-video-player",{staticStyle:{width:"100%"},attrs:{video:t.video}})],1),i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-12 col-sm-4"},[i("a-muscule-map",{attrs:{groups:t.video.groups}})],1),i("div",{staticClass:"col-xs-12 col-sm-8 video-desc"},[i("a-user-marker",{attrs:{rights:t.rights,author:t.video.author,created_at:t.video.created_at},on:{editVideo:function(e){t.startEdit(t.video.id)}}}),i("q-btn",{staticClass:"full-width q-my-md",style:{backgroundColor:"#1a1a1a",color:"#494949"},attrs:{label:t.$t("video."+(t.showDescription?"hideDesc":"showDesc")),size:"md",color:"color","text-color":"#494949"},on:{click:function(e){t.showDescription=!t.showDescription}}}),t.showDescription?i("p",{domProps:{textContent:t._s(t.video.content)}}):t._e()],1)]),i("div",{staticClass:"row lt-sm"},[t._l(t.video.linked,function(t,e){return i("a-video-preview",{key:e,attrs:{video:t}})}),t.me&&"admin"==t.me.role?i("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:t.$t("video.addLinked")},on:{click:function(e){t.dialodAddLinked=!0}}}):t._e()],2),i("div",{staticClass:"row"},[i("a-comment-make",{staticClass:"q-px-xs q-my-md",attrs:{needClose:!1,item:t.comment_params,avatar:"statics/profile_test.png"}}),t.comments?i("a-comments",{staticClass:"q-pa-xs",attrs:{item:t.comment_params,count:t.comment_count,comments:t.comments}}):t._e()],1)])]),i("div",{staticClass:"gt-xs col-sm-3",staticStyle:{"padding-top":"30px"}},[i("p",{staticStyle:{color:"#7e7e7e"}},[t._v("RELATED VIDEOS")]),t._l(t.video.linked,function(t,e){return i("a-video-preview",{key:e,attrs:{video:t}})}),t.me&&"admin"==t.me.role?i("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:t.$t("video.addLinked")},on:{click:function(e){t.dialodAddLinked=!0}}}):t._e()],2)])]):t._e(),i("d-add-linked",{attrs:{opened:t.dialodAddLinked},on:{close:function(e){t.dialodAddLinked=!1}}})],1)},o=[];n._withStripped=!0;var r=i("MVZn"),a=i.n(r),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",{staticClass:"shadow-black my-player"},[i("q-card-media",[i("div",{staticClass:"embed-container"},[t.video&&t.video.link?i("player",{directives:[{name:"show",rawName:"v-show",value:t.autoplay,expression:"autoplay"}],ref:"player",staticClass:"my-video",attrs:{"video-id":t.link,"player-width":"100%",options:t.options,playerReady:"true",autoplay:t.autoplay}}):i("img",{staticStyle:{cursor:"pointer"},attrs:{src:t.video.link_preview},on:{click:t.clickPay}})],1)]),i("q-card-actions",[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-12 col-sm-12 col-lg-4"},[i("h4",[t._v(t._s(t.video.title))]),i("p",{domProps:{textContent:t._s(t.$tc("video.view",t.video.views,{n:t.video.views}))}})]),i("div",{staticClass:"col-xs-12 col-sm-12 col-lg-8 smaller-btn"},[i("div",{staticStyle:{flex:"1 1 33.332%",display:"flex",position:"relative"}},[i("q-btn",{class:{lighted:t.video.iLike},staticStyle:{width:"50%"},attrs:{icon:"thumb_up",label:t.$tc("video.like",t.video.likes,{n:t.formatNumber(t.video.likes)}),loading:t.sendLike,"text-color":"grey-8",disable:!t.me,flat:""},on:{click:function(e){t.vote("like")}}},[i("q-spinner-facebook",{attrs:{slot:"loading",size:"20px"},slot:"loading"})],1),i("q-btn",{class:{lighted:t.video.iDislike},staticStyle:{width:"50%"},attrs:{icon:"thumb_down",label:t.$tc("video.dislike",t.video.dislikes,{n:t.formatNumber(t.video.dislikes)}),loading:t.sendDislike,"text-color":"grey-8",disable:!t.me,flat:""},on:{click:function(e){t.vote("dislike")}}},[i("q-spinner-facebook",{attrs:{slot:"loading",size:"20px"},slot:"loading"})],1),i("q-progress",{staticStyle:{position:"absolute",bottom:"-8px",width:"100%"},attrs:{color:t.video.likes>t.video.dislikes?"primary":"negative",percentage:t.rate}})],1),i("q-btn",{attrs:{icon:"save",label:t.$t("video.save"),loading:t.sendBookmark,color:"#313131","text-color":"grey-8",disable:!t.me,flat:""},on:{click:function(e){t.saveTo("save")}}},[i("q-spinner-facebook",{attrs:{slot:"loading",size:"20px"},slot:"loading"})],1),i("q-btn",{attrs:{icon:"send",label:t.$t("video.share"),color:"#313131","text-color":"grey-8",flat:""},on:{click:t.share}}),i("q-btn",{attrs:{icon:"star",label:t.$t("video.addToFav"),loading:t.sendFavorite,color:"#313131","text-color":"grey-8",disable:!t.me,flat:""},on:{click:function(e){t.plist=!0}}},[i("q-spinner-facebook",{attrs:{slot:"loading",size:"20px"},slot:"loading"})],1),i("q-btn",{attrs:{icon:"file_copy",label:t.$t("video.copy"),color:"#313131","text-color":"grey-8",disable:!t.me,flat:""},on:{click:t.copyLink}})],1),i("div",{staticClass:"col-xs-12"})])])]),i("m-playlist",{attrs:{opened:t.plist,video_id:t.video.id},on:{close:function(e){t.plist=!1}}})],1)},c=[];s._withStripped=!0;i("tUrg"),i("KKXr");var l=i("hMnm"),d=i("MgzW"),u=i.n(d),m=0;function f(t){var e=this;this.player.on(t,function(i){e.$emit(t,i,e.player)})}var h=["play","pause","ended","timeupdate","progress","seeked","texttrackchange","cuechange","cuepoint","volumechange","error","loaded"],v={props:{playerHeight:{default:320},playerWidth:{default:640},options:{default:function(){return{}}},videoId:{required:!0},loop:{default:!1},autoplay:{default:!1}},render:function(t){return t("div",{attrs:{id:this.elementId}})},watch:{videoId:"update"},data:function(){return{elementId:"vimeo-player-"+(m+=1),player:null}},methods:{update:function(t){return this.player.loadVideo(t)},play:function(){return this.player.play()},pause:function(){return this.player.pause()},mute:function(){return this.player.setVolume(0)},unmute:function(t){return void 0===t&&(t=.5),this.player.setVolume(t)},setEvents:function(){var t=this;this.player.ready().then(function(){t.$emit("ready",t.player)}).catch(function(e){t.$emit("error",e,t.player)}),h.forEach(function(e){return f.call(t,e)})}},mounted:function(){var t={id:this.videoId,width:this.playerWidth,height:this.playerHeight,loop:this.loop,autoplay:this.autoplay};this.player=new l["a"](this.elementId,u()(t,this.options)),this.setEvents()},beforeDestroy:function(){this.player.unload()}};function p(t,e){t.component("vimeo-player",v)}p.version="0.0.9","undefined"!=typeof window&&window.Vue&&window.Vue.use(p);var y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-modal",{model:{value:t.visibility,callback:function(e){t.visibility=e},expression:"visibility"}},[i("q-modal-layout",[i("q-toolbar",{attrs:{slot:"header",color:"secondary"},slot:"header"},[i("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",dense:"",icon:"keyboard_arrow_left",label:t.$t("video.close")}}),i("q-toolbar-title",{domProps:{textContent:t._s(t.$t("video.playlists"))}})],1),i("div",{staticClass:"layout-padding"},[i("div",{staticClass:"container"},[t.list.length?i("q-list",t._l(t.list,function(e,n){return i("q-item",{key:n},[i("q-item-main",[i("q-btn",{staticClass:"full-width",attrs:{label:e.name},on:{click:function(i){t._attach(e.id)}}})],1),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{icon:"edit"},on:{click:function(i){t._edit(e)}}}),i("q-btn",{attrs:{icon:"delete"},on:{click:function(i){t._delete(e.id)}}})],1)],1)})):i("p",[t._v("Create new playlist")])],1)]),i("q-toolbar",{attrs:{slot:"footer",color:"secondary"},slot:"footer"},[i("q-toolbar-title",[i("q-btn",{attrs:{color:"primary",label:"New playlist"},on:{click:function(e){t.makeList()}}})],1)],1)],1)],1)},g=[];y._withStripped=!0;i("f3/d");var w=i("L2JU"),_={components:{},props:{opened:{},video_id:{}},mounted:function(){this.getList()},methods:a()({},Object(w["b"])({getList:"playlist/getList",createPlaylist:"playlist/createList",attach:"playlist/attach",updateList:"playlist/updateList",deleteList:"playlist/deleteList"}),{makeList:function(){var t=this;this.$q.dialog({title:"Name",message:"Name  of playlist",prompt:{model:"",type:"text"},cancel:!0,color:"secondary"}).then(function(e){t.createPlaylist({name:e})}).catch(function(){})},_attach:function(t){this.attach({video_id:this.video_id,playlist_id:t}),this.$emit("close")},_edit:function(t){var e=this;this.$q.dialog({title:"Name",message:"Name  of playlist",prompt:{model:t.name,type:"text"},cancel:!0,color:"secondary"}).then(function(i){e.updateList({id:t.id,name:i})}).catch(function(){})},_delete:function(t){this.deleteList(t),this.$emit("close")}}),computed:a()({},Object(w["c"])({playlists:"playlist/list"}),{list:function(){return this.playlists.filter(function(t){return 1!=t.default})},visibility:{get:function(){return this.opened},set:function(t){t||this.$emit("close")}}}),data:function(){return{}}},k=_,b=(i("QezF"),i("KHd+")),C=Object(b["a"])(k,y,g,!1,null,null,null);C.options.__file="list.vue";var x=C.exports,E={components:{player:v,"m-playlist":x},computed:a()({},Object(w["c"])({video:"video/current",me:"auth/me"}),{rate:function(){var t=this.video.likes+this.video.dislikes;if(0==t)return 0;var e=this.video.likes>this.video.dislikes?this.video.likes:this.video.dislikes;return e/t*100},link:function(){return this.video.link.split("/")[0]},options:function(){var t=this.video?this.video.link:"305861226/9c8ef570db";return{color:"ff5600",url:"https://vimeo.com/".concat(t)}}}),mounted:function(){},watch:{video:function(t){}},methods:a()({},Object(w["b"])({sendVote:"video/vote",attach:"playlist/attach",share:"general/share",play:"video/play",_copyLink:"video/copyLink",showPay:"subscribe/showDialog",entryFrom:"auth/entryFrom"}),{startPlay:function(){var t=this;this.play(this.video.id).then(function(e){t.autoplay=!0,t.link=e.link.split("/")[0],t.options.url="https://vimeo.com/".concat(e.link),t.$refs.player.play()})},formatNumber:function(t){return t?t>999?(t/1e3).toFixed(1)+"k":t:"0"},copyLink:function(){var t=this;this._copyLink(window.location.href).then(function(){t.$q.notify({type:"positive",message:t.$t("video.link_copied")})})},saveTo:function(t){var e=this;"save"==t&&(this.sendBookmark=!0,this.attach({video_id:this.video.id,playlist_id:-1}).then(function(){e.sendBookmark=!1}).catch(function(){e.sendBookmark=!1}))},vote:function(t){var e=this;"like"==t?this.sendLike=!0:this.sendDislike=!0,this.sendVote({id:this.video.id,type:t,item:"vi"}).then(function(){e.sendLike=!1,e.sendDislike=!1}).catch(function(){e.sendDislike=!1,e.sendLike=!1})},clickPay:function(){console.log("----",this),this.me?this.showPay():(this.entryFrom(this.$router.history.current.path),this.$router.push("/login"))}}),data:function(){return{playing:!0,autoplay:!0,sendLike:!1,sendDislike:!1,sendFavorite:!1,sendBookmark:!1,plist:!1}}},q=E,L=(i("YJ2v"),Object(b["a"])(q,s,c,!1,null,null,null));L.options.__file="player.vue";var T=L.exports,j=i("jnYV"),O=i("Xr3b"),M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"marker",on:{click:t.goToTrainer}},[t.author?i("img",{attrs:{src:t.avatar,alt:"",srcset:""}}):t._e(),t.author?i("div",{staticClass:"texts"},[i("p",{staticClass:"name",domProps:{textContent:t._s(t.name)}}),i("p",{staticClass:"description",domProps:{textContent:t._s(t.created_at)}})]):t._e(),t.canEdit?i("q-btn",{attrs:{color:"primary",label:"Edit"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.$emit("editVideo")}}}):t._e()],1)},$=[];M._withStripped=!0;var P={props:{author:{},created_at:{},rights:{}},computed:a()({},Object(w["c"])({me:"auth/me"}),{avatar:function(){return this.author&&this.author.avatar?this.author.avatar:"statics/profile_test.png"},name:function(){return this.author&&this.author.name?this.author.name:"Admin"},canEdit:function(){return"admin"==this.rights||"trainer"==this.rights&&this.me.id==this.author.id}}),methods:{goToTrainer:function(){this.$router.push({name:"profile.home",params:{id:this.author.id}})}}},V=P,S=(i("YfZl"),Object(b["a"])(V,M,$,!1,null,null,null));S.options.__file="marker.vue";var D=S.exports,N=i("Vo53"),I=i("6Xh3"),A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-modal",{staticClass:"secondary",attrs:{maximized:""},model:{value:t.visibility,callback:function(e){t.visibility=e},expression:"visibility"}},[i("q-modal-layout",{staticStyle:{"background-color":"#111"}},[i("q-toolbar",{attrs:{slot:"header",color:"secondary"},slot:"header"},[i("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",dense:"",icon:"keyboard_arrow_left",label:t.$t("video.close")}}),i("q-toolbar-title",{domProps:{textContent:t._s(t.$t("video.linkNewFile"))}})],1),i("q-toolbar",{attrs:{slot:"header"},slot:"header"},[i("q-search",{staticClass:"full-width",attrs:{inverted:"",color:"none"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),i("q-toolbar",{attrs:{slot:"footer",color:"secondary"},slot:"footer"},[i("q-toolbar-title")],1),i("div",{staticClass:"layout-padding",staticStyle:{"background-color":"#111"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"row gutter-sm"},t._l(t.filteredVideo,function(e){return i("div",{key:e.id,staticClass:"col-xs-6 col-sm-3 - col-lg-2"},[i("a-video-micro",{attrs:{video:e},on:{click:function(i){t.link(e)}}})],1)}))])])],1)],1)},H=[];A._withStripped=!0;i("rGqo"),i("yt8O"),i("RW0V");var Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",{staticClass:"player-preview black-shadow",nativeOn:{click:function(e){t.$emit("click")}}},[i("q-card-media",[i("img",{attrs:{src:t.video.link_preview}}),i("div",{staticClass:"shadow"}),i("div",{staticClass:"duration",domProps:{textContent:t._s(t.miniOverlay(t.video.duration))}})]),i("q-card-title",[i("span",{staticClass:"text-overflow"},[t._v(t._s(t.video.title))])])],1)},z=[];Y._withStripped=!0;i("lqHd");function R(t,e){var i=t.split("_");return e%10===1&&e%100!==11?i[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?i[1]:i[2]}function W(t,e,i){var n={ss:e?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===i?e?"минута":"минуту":t+" "+R(n[i],+t)}var F=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],U={props:{video:{}},computed:{},mounted:function(){this.$moment.locale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:F,longMonthsParse:F,shortMonthsParse:F,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:W,m:W,mm:W,h:"час",hh:W,d:"день",dd:W,M:"месяц",MM:W,y:"год",yy:W},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(t){return/^(дня|вечера)$/.test(t)},meridiem:function(t,e,i){return t<4?"ночи":t<12?"утра":t<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:4}}),console.log("video-",this.$moment.locale())},methods:{goTo:function(t){console.log(this.$router.push("/group/".concat(t)))},miniOverlay:function(t){var e=t%60,i=(t-e)/60;return i<10&&(i="0"+i),e<10&&(e="0"+e),"HD ".concat(i,":").concat(e)}}},J=U,X=(i("9+It"),Object(b["a"])(J,Y,z,!1,null,null,null));X.options.__file="micro.vue";var B=X.exports,G={components:{"a-video-micro":B},props:{opened:{}},mounted:function(){this.getVideos()},methods:a()({},Object(w["b"])({getVideos:"video/getVideos",addLinked:"video/addLinked"}),{link:function(t){console.log(this.video),this.addLinked({id:this.video.id,linked:t.id})}}),computed:a()({},Object(w["c"])({allVideos:"video/videos",video:"video/current"}),{filteredVideo:function(){var t=this.filter&&this.filter.toLowerCase();if(t){var e=this.allVideos.filter(function(e){return Object.keys(e).some(function(i){return String(e[i]).toLowerCase().indexOf(t)>-1})});return e}return this.allVideos},visibility:{get:function(){return this.opened},set:function(t){t||this.$emit("close")}}}),data:function(){return{filter:""}}},K=G,Z=Object(b["a"])(K,A,H,!1,null,null,null);Z.options.__file="linkVideo.vue";var Q=Z.exports,tt={components:{"a-video-player":T,"a-video-preview":j["a"],"a-muscule-map":O["a"],"a-user-marker":D,"a-comment-make":N["a"],"a-comments":I["a"],"d-add-linked":Q},mounted:function(){this.reloadPage(this.$router.currentRoute)},watch:{$route:function(t,e){this.reloadPage(t)}},methods:a()({},Object(w["b"])({showVideo:"video/selectVideo",startEdit:"video/startEdit",setComments:"comment/setComments"}),{reloadPage:function(t){var e=this,i=t.params.id;this.showVideo(i).then(function(){e.video=e.currentVideo,console.log("set video",e.video),e.video?e.setComments({comments:e.video.comments,count:e.video.comment_count}):e.setComments({comments:null,count:null})}).catch(function(t){"need_pay"==t.data.error&&console.log("need pay")})},addLinkeed:function(){},showEditDialog:function(){console.log("editing")}}),computed:a()({},Object(w["c"])({currentVideo:"video/current",rights:"auth/rights",comments:"comment/comments",comment_count:"comment/count",me:"auth/me"}),{comment_params:function(){return{item_id:this.video.id,item_type:"video"}}}),data:function(){return{dialodAddLinked:!1,showDescription:!1,video:""}}},et=tt,it=(i("TvMm"),Object(b["a"])(et,n,o,!1,null,null,null));it.options.__file="play.vue";e["default"]=it.exports},GnHj:function(t,e,i){},MgzW:function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function s(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}t.exports=s()?Object.assign:function(t,e){for(var i,s,c=a(t),l=1;l<arguments.length;l++){for(var d in i=Object(arguments[l]),i)o.call(i,d)&&(c[d]=i[d]);if(n){s=n(i);for(var u=0;u<s.length;u++)r.call(i,s[u])&&(c[s[u]]=i[s[u]])}}return c}},QezF:function(t,e,i){"use strict";var n=i("9UBY"),o=i.n(n);o.a},TvMm:function(t,e,i){"use strict";var n=i("ZEzg"),o=i.n(n);o.a},Vo53:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width",staticStyle:{overflow:"hidden"}},[i("div",{staticClass:"marker"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],ref:"make_comment",staticClass:"make_comment",attrs:{name:"msg",placeholder:"Enter your message..."},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),i("div",{staticClass:"q-pa-md float-right"},[t.needClose?i("q-btn",{style:{backgroundColor:"#4f4f4f"},attrs:{label:t.$t("comment.close"),glossy:"","text-color":"black"},on:{click:function(e){t.$emit("close")}}}):t._e(),i("q-btn",{staticClass:"q-ml-md",style:{backgroundColor:"#4f4f4f",minWidth:"90px"},attrs:{label:t.$t("comment.send"),loading:t.sending,disabled:!t.me,glossy:"","text-color":"black"},on:{click:t.sendComment}},[i("q-spinner-facebook",{attrs:{slot:"loading",size:"20px"},slot:"loading"})],1)],1)])},o=[];n._withStripped=!0;var r=i("MVZn"),a=i.n(r),s=i("L2JU"),c={props:{avatar:{},item:{},parentId:{},needClose:{default:!0}},data:function(){return{message:"",sending:!1}},computed:a()({},Object(s["c"])({me:"auth/me"})),methods:a()({},Object(s["b"])({addComent:"comment/addComent"}),{sendComment:function(){var t=this;this.message&&(this.sending=!0,this.addComent(a()({},this.item,{parent_id:this.parentId,message:this.message})).then(function(e){t.message="",t.sending=!1}).catch(function(){t.sending=!1}))}})},l=c,d=(i("lcpX"),i("KHd+")),u=Object(d["a"])(l,n,o,!1,null,null,null);u.options.__file="comment-make.vue";e["a"]=u.exports},VuJm:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block-divider"},[t.customIcon?i("a-custom-icon",{staticClass:"q-mx-sm",attrs:{icon:t.customIcon,color:"#ff5600",size:"25px"}}):i("q-icon",{staticClass:"q-mx-sm",attrs:{name:t.icon,color:"primary",size:"25px"}}),i("h3",{domProps:{textContent:t._s(t.title)}}),t.description?i("p",{domProps:{textContent:t._s(t.description)}}):t._e()],1)},o=[];n._withStripped=!0;var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-icon"},[i("svg",{staticStyle:{"enable-background":"new 0 0 334.5 334.5"},style:{fill:t.color,height:t.size,width:t.size},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 334.5 334.5","xml:space":"preserve"}},[i("path",{attrs:{d:"M332.797,13.699c-1.489-1.306-3.608-1.609-5.404-0.776L2.893,163.695c-1.747,0.812-2.872,2.555-2.893,4.481\n        s1.067,3.693,2.797,4.542l91.833,45.068c1.684,0.827,3.692,0.64,5.196-0.484l89.287-66.734l-70.094,72.1\n        c-1,1.029-1.51,2.438-1.4,3.868l6.979,90.889c0.155,2.014,1.505,3.736,3.424,4.367c0.513,0.168,1.04,0.25,1.561,0.25\n        c1.429,0,2.819-0.613,3.786-1.733l48.742-56.482l60.255,28.79c1.308,0.625,2.822,0.651,4.151,0.073\n        c1.329-0.579,2.341-1.705,2.775-3.087L334.27,18.956C334.864,17.066,334.285,15.005,332.797,13.699z"}})])])},a=[];r._withStripped=!0;var s={props:{icon:{},color:{},size:{}}},c=s,l=i("KHd+"),d=Object(l["a"])(c,r,a,!1,null,null,null);d.options.__file="customIcon.vue";var u=d.exports,m={components:{"a-custom-icon":u},props:{title:{},customIcon:{},icon:{},description:{}}},f=m,h=(i("a+BI"),Object(l["a"])(f,n,o,!1,null,null,null));h.options.__file="title.vue";e["a"]=h.exports},Vvu8:function(t,e,i){},YJ2v:function(t,e,i){"use strict";var n=i("/dD+"),o=i.n(n);o.a},YfZl:function(t,e,i){"use strict";var n=i("Vvu8"),o=i.n(n);o.a},ZEzg:function(t,e,i){},"a+BI":function(t,e,i){"use strict";var n=i("eHz7"),o=i.n(n);o.a},eHz7:function(t,e,i){},hMnm:function(t,e,i){"use strict";(function(t){/*! @vimeo/player v2.6.5 | (c) 2018 Vimeo | MIT License | https://github.com/vimeo/player.js */
function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var r="undefined"!==typeof t&&"[object global]"==={}.toString.call(t);function a(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function s(t){return t instanceof window.HTMLElement}function c(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function l(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=t.url,n=e||i;if(!n)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(c(n))return"https://vimeo.com/".concat(n);if(l(n))return n.replace("http:","https:");if(e)throw new TypeError("“".concat(e,"” is not a valid video id."));throw new TypeError("“".concat(n,"” is not a vimeo.com url."))}var u="undefined"!==typeof Array.prototype.indexOf,m="undefined"!==typeof window&&"undefined"!==typeof window.postMessage;if(!r&&(!u||!m))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var f="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function h(t,e){return e={exports:{}},t(e,e.exports),e.exports
/*!
 * weakmap-polyfill v2.0.0 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2016 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */}
/*!
 * weakmap-polyfill v2.0.0 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2016 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
(function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,i=function(t,e,i){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:i}):t[e]=i};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id",r("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function o(t,i){if(!n(t)||!e.call(t,"_id"))throw new TypeError(i+" method called on incompatible receiver "+typeof t)}function r(t){return t+"_"+a()+"."+a()}function a(){return Math.random().toString().substring(2)}return i(t.prototype,"delete",function(t){if(o(this,"delete"),!n(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)&&(delete t[this._id],!0)}),i(t.prototype,"get",function(t){if(o(this,"get"),n(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}}),i(t.prototype,"has",function(t){if(o(this,"has"),!n(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)}),i(t.prototype,"set",function(t,e){if(o(this,"set"),!n(t))throw new TypeError("Invalid value used as weak map key");var r=t[this._id];return r&&r[0]===t?(r[1]=e,this):(i(t,this._id,[t,e]),this)}),i(t,"_polyfill",!0),t}()}function n(t){return Object(t)===t}})("undefined"!==typeof self?self:"undefined"!==typeof window?window:f);var v=h(function(t){
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
(function(e,i,n){i[e]=i[e]||n(),t.exports&&(t.exports=i[e])})("Promise",f,function(){var t,e,i,n=Object.prototype.toString,o="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,configurable:!1!==n})}}catch(e){t=function(t,e,i){return t[e]=i,t}}function r(t,n){i.add(t,n),e||(e=o(i.drain))}function a(t){var e,i=typeof t;return null==t||"object"!=i&&"function"!=i||(e=t.then),"function"==typeof e&&e}function s(){for(var t=0;t<this.chain.length;t++)c(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function c(t,e,i){var n,o;try{!1===e?i.reject(t.msg):(n=!0===e?t.msg:e.call(void 0,t.msg),n===i.promise?i.reject(TypeError("Promise-chain cycle")):(o=a(n))?o.call(n,i.resolve,i.reject):i.resolve(n))}catch(t){i.reject(t)}}function l(t){var e,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(e=a(t))?r(function(){var n=new m(i);try{e.call(t,function(){l.apply(n,arguments)},function(){d.apply(n,arguments)})}catch(t){d.call(n,t)}}):(i.msg=t,i.state=1,i.chain.length>0&&r(s,i))}catch(t){d.call(new m(i),t)}}}function d(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&r(s,e))}function u(t,e,i,n){for(var o=0;o<e.length;o++)(function(o){t.resolve(e[o]).then(function(t){i(o,t)},n)})(o)}function m(t){this.def=t,this.triggered=!1}function f(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new f(this);this["then"]=function(t,i){var n={success:"function"!=typeof t||t,failure:"function"==typeof i&&i};return n.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");n.resolve=t,n.reject=e}),e.chain.push(n),0!==e.state&&r(s,e),n.promise},this["catch"]=function(t){return this.then(void 0,t)};try{t.call(void 0,function(t){l.call(e,t)},function(t){d.call(e,t)})}catch(t){d.call(e,t)}}i=function(){var t,i,n;function o(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,r){n=new o(e,r),i?i.next=n:t=n,i=n,n=void 0},drain:function(){var n=t;t=i=e=void 0;while(n)n.fn.call(n.self),n=n.next}}}();var v=t({},"constructor",h,!1);return h.prototype=v,t(v,"__NPO__",0,!1),t(h,"resolve",function(t){var e=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new e(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");e(t)})}),t(h,"reject",function(t){return new this(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");i(t)})}),t(h,"all",function(t){var e=this;return"[object Array]"!=n.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");var o=t.length,r=Array(o),a=0;u(e,t,function(t,e){r[t]=e,++a===o&&i(r)},n)})}),t(h,"race",function(t){var e=this;return"[object Array]"!=n.call(t)?e.reject(TypeError("Not an array")):new e(function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");u(e,t,function(t,e){i(e)},n)})}),h})}),p=new WeakMap;function y(t,e,i){var n=p.get(t.element)||{};e in n||(n[e]=[]),n[e].push(i),p.set(t.element,n)}function g(t,e){var i=p.get(t.element)||{};return i[e]||[]}function w(t,e,i){var n=p.get(t.element)||{};if(!n[e])return!0;if(!i)return n[e]=[],p.set(t.element,n),!0;var o=n[e].indexOf(i);return-1!==o&&n[e].splice(o,1),p.set(t.element,n),n[e]&&0===n[e].length}function _(t,e){var i=g(t,e);if(i.length<1)return!1;var n=i.shift();return w(t,e,n),n}function k(t,e){var i=p.get(t);p.set(e,i),p.delete(t)}var b=["autopause","autoplay","background","byline","color","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","title","transparent","url","width"];function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.reduce(function(e,i){var n=t.getAttribute("data-vimeo-".concat(i));return(n||""===n)&&(e[i]=""===n?1:n),e},e)}function x(t,e){var i=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=i,e.appendChild(n.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return new Promise(function(n,o){if(!l(t))throw new TypeError("“".concat(t,"” is not a vimeo.com url."));var r="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t),"&domain=").concat(window.location.hostname);for(var a in e)e.hasOwnProperty(a)&&(r+="&".concat(a,"=").concat(encodeURIComponent(e[a])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",r,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var e=JSON.parse(s.responseText);if(403===e.domain_status_code)return x(e,i),void o(new Error("“".concat(t,"” is not embeddable.")));n(e)}catch(t){o(t)}else o(new Error("“".concat(t,"” is not embeddable.")));else o(new Error("“".concat(t,"” was not found.")))},s.onerror=function(){var t=s.status?" (".concat(s.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},s.send()})}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),i=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))};e.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=C(t),n=d(e);E(n,e,t).then(function(e){return x(e,t)}).catch(i)}catch(t){i(t)}})}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(l(e.origin)&&e.data&&"spacechange"===e.data.event)for(var i=t.querySelectorAll("iframe"),n=0;n<i.length;n++)if(i[n].contentWindow===e.source){var o=i[n].parentElement;o.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}}function T(t){return"string"===typeof t&&(t=JSON.parse(t)),t}function j(t,e,i){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var n={method:e};void 0!==i&&(n.value=i);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),t.element.contentWindow.postMessage(n,t.origin)}}function O(t,e){e=T(e);var i,n=[];if(e.event){if("error"===e.event){var o=g(t,e.data.method);o.forEach(function(i){var n=new Error(e.data.message);n.name=e.data.name,i.reject(n),w(t,e.data.method,i)})}n=g(t,"event:".concat(e.event)),i=e.data}else if(e.method){var r=_(t,e.method);r&&(n.push(r),i=e.value)}n.forEach(function(e){try{if("function"===typeof e)return void e.call(t,i);e.resolve(i)}catch(t){}})}var M=new WeakMap,$=new WeakMap,P=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"undefined"!==typeof document&&"string"===typeof e&&(e=document.getElementById(e)),!s(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var r=e.querySelector("iframe");r&&(e=r)}if("IFRAME"===e.nodeName&&!l(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(M.has(e))return M.get(e);this.element=e,this.origin="*";var a=new v(function(t,i){var r=function(e){if(l(e.origin)&&n.element.contentWindow===e.source){"*"===n.origin&&(n.origin=e.origin);var i=T(e.data),o="event"in i&&"ready"===i.event,r="method"in i&&"ping"===i.method;if(o||r)return n.element.setAttribute("data-ready","true"),void t();O(n,i)}};if(window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent&&window.attachEvent("onmessage",r),"IFRAME"!==n.element.nodeName){var a=C(e,o),s=d(a);E(s,a,e).then(function(t){var i=x(t,e);return n.element=i,n._originalElement=e,k(e,i),M.set(n.element,n),t}).catch(function(t){return i(t)})}});return $.set(this,a),M.set(this.element,this),"IFRAME"===this.element.nodeName&&j(this,"ping"),this}return o(t,[{key:"callMethod",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new v(function(n,o){return e.ready().then(function(){y(e,t,{resolve:n,reject:o}),j(e,t,i)}).catch(function(t){o(t)})})}},{key:"get",value:function(t){var e=this;return new v(function(i,n){return t=a(t,"get"),e.ready().then(function(){y(e,t,{resolve:i,reject:n}),j(e,t)})})}},{key:"set",value:function(t,e){var i=this;return v.resolve(e).then(function(e){if(t=a(t,"set"),void 0===e||null===e)throw new TypeError("There must be a value to set.");return i.ready().then(function(){return new v(function(n,o){y(i,t,{resolve:n,reject:o}),j(i,t,e)})})})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!==typeof e)throw new TypeError("The callback must be a function.");var i=g(this,"event:".concat(t));0===i.length&&this.callMethod("addEventListener",t).catch(function(){}),y(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!==typeof e)throw new TypeError("The callback must be a function.");var i=w(this,"event:".concat(t),e);i&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=$.get(this)||new v(function(t,e){e(new Error("Unknown player. Probably unloaded."))});return v.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new v(function(e){$.delete(t),M.delete(t.element),t._originalElement&&(M.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}]),t}();r||(q(),L()),e["a"]=P}).call(this,i("yLpj"))},jnYV:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",{staticClass:"player-preview relative-position"},[t.canRemove?i("q-btn",{staticClass:"absolute-top-left",staticStyle:{"z-index":"99",top:"5px",left:"5px"},attrs:{icon:"delete",color:"red",round:""},on:{click:function(e){t.$emit("remove")}}}):t._e(),i("q-card-media",{style:{backgroundImage:"url("+t.video.link_preview+")"},nativeOn:{click:function(e){t.$router.push({name:"play",params:{id:t.video.id}})}}},[i("img",{staticClass:"vi",attrs:{src:t.video.link_preview}}),i("div",{staticClass:"shadow"}),i("div",{staticClass:"overlay"}),i("div",{staticClass:"overlay transparent"},[i("muscule-map",{staticStyle:{width:"auto",height:"82%",padding:"0 22px"},attrs:{front:t.isfront,groups:t.video.groups}}),i("span",[t._v(t._s(t.baseGroup))])],1),i("div",{staticClass:"duration",domProps:{textContent:t._s(t.miniOverlay(t.video.duration))}})]),i("q-card-title",[i("span",{staticClass:"text-overflow"},[t._v(t._s(t.video.title))]),i("div",{staticClass:"video-desc"},[i("div",[i("q-icon",{attrs:{name:"visibility"}}),i("span",{domProps:{textContent:t._s(t.$tc("video.view",t.video.views,{n:t.video.views}))}})],1),i("span",{staticClass:"gray",domProps:{textContent:t._s(t.video.created_at)}})])]),t.video.groupName?i("q-card-actions",[i("q-btn",{attrs:{flat:"",color:"primary",label:t.video.groupName},on:{click:function(e){t.goTo(t.video.groupId)}}})],1):t._e()],1)},o=[];n._withStripped=!0;i("Vd3H"),i("rGqo");var r=i("MVZn"),a=i.n(r),s=(i("lqHd"),i("L2JU")),c=i("2iEn"),l={2:-1,3:1,4:1,5:-1,6:-1,7:-1,8:0,9:1,10:-1,11:1,12:-1,13:1,14:1,15:-1},d={props:{video:{},canRemove:{}},components:{"muscule-map":c["a"]},computed:a()({},Object(s["c"])({allGroups:"video/groups"}),{musculeDirection:function(){var t=0;return this.video.groups&&this.video.groups.forEach(function(e){t+=(4-e.weight)*l[e.id]*2}),t},isfront:function(){return this.musculeDirection<0},baseGroup:function(){var t=this;if(this.video.groups){var e=this.video.groups.filter(function(e){return t.isfront?l[e.id]<0:l[e.id]>=0}).sort(function(t,e){return e.weight-t.weight}).pop();if(e){var i=this.allGroups.filter(function(t){return t.id==e.id});return i[0]?i[0].title:"No group"}}return"No group"}}),mounted:function(){},methods:{goTo:function(t){this.$router.push("/group/".concat(t))},miniOverlay:function(t){var e=t%60,i=(t-e)/60;return i<10&&(i="0"+i),e<10&&(e="0"+e),"HD ".concat(i,":").concat(e)}}},u=d,m=(i("7ggI"),i("KHd+")),f=Object(m["a"])(u,n,o,!1,null,null,null);f.options.__file="preview.vue";e["a"]=f.exports},lcpX:function(t,e,i){"use strict";var n=i("GnHj"),o=i.n(n);o.a},lqHd:function(t,e,i){"use strict";var n=i("pg2m");e["a"]=function(t,e){if(n["a"].is.cordova&&navigator&&navigator.app)return navigator.app.loadUrl(t,{openExternal:!0});var i=window.open(t,"_blank");if(i)return i.focus(),i;e()}},rXyo:function(t,e,i){"use strict";var n=i("v9Vs"),o=i.n(n);o.a},v9Vs:function(t,e,i){},vHl0:function(t,e,i){},vXam:function(t,e,i){}}]);