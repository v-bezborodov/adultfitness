(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{RGr0:function(t,a,e){},dd6L:function(t,a,e){"use strict";var r=e("RGr0"),i=e.n(r);i.a},xmsq:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",{staticClass:"site black",attrs:{view:"lHh Lpr lFf"}},[e("q-layout-header",[e("a-general-toolbar",{attrs:{page:t.pageName}})],1),e("q-layout-drawer",{attrs:{overlay:"",side:"right","content-class":"mat"===t.$q.theme?"bg-grey-2":null},model:{value:t.rightDrawerOpen,callback:function(a){t.rightDrawerOpen=a},expression:"rightDrawerOpen"}}),e("q-page-container",{staticStyle:{"padding-top":"64px !important"}},[t.me?e("div",{staticClass:"container"},[e("q-card",{staticClass:"profile_card"},[e("q-card-media",{staticClass:"relative-position"},["me"==t.trainer_id?e("q-btn",{staticClass:"absolute",staticStyle:{top:"5px",right:"5px"},attrs:{fab:"",flat:"",icon:"photo_camera",color:"white"},on:{click:t.changeWallpaper}}):e("q-btn",{staticClass:"absolute",staticStyle:{top:"10px",right:"10px"},attrs:{label:t.userData&&!t.userData.followed?"+ Follow":"Unfollow",color:t.userData&&!t.userData.followed?"primary":"secondary"},on:{click:t.follow}}),e("img",{attrs:{src:t.wallpaper,alt:"",srcset:""}})],1),e("q-card-title",{staticClass:"relative-position",staticStyle:{"padding-top":"2px"}},[e("img",{staticClass:"photo_profile absolute",attrs:{src:t.avatar},on:{click:t.changePhoto}}),t.sheeld?e("span",{staticClass:"proSheeld",domProps:{textContent:t._s(t.sheeld)}}):t._e(),e("div",{staticClass:"controls row justify-between items-start"},[e("div",{staticClass:"userProps relative-position"},[t.userData?e("div",{staticClass:"data"},[e("div",{staticClass:"userName"},[t._v(t._s(t.userData.name))]),t.userData.followers?e("div",{staticClass:"followers",staticStyle:{"font-size":"12px","line-height":"12px"}},[t._v(t._s(t.userData.followers)+" followers")]):t._e()]):t._e()]),e("div",{staticClass:"btns row justify-end"},t._l(t.auth_btns,function(a,r){return e("q-btn",{key:r,class:{active:t.pageName==a.route},attrs:{size:"md",glossy:"",label:a.label,to:{name:a.route,params:a.params}}})}))])])],1)],1):t._e(),e("router-view",{staticClass:"justify-start"})],1),e("a-footer")],1)},i=[];r._withStripped=!0;e("f3/d");var s=e("MVZn"),l=e.n(s),n=e("MUWh"),o=e("4bl9"),p=e("hUN+"),u=e("L2JU"),c={components:{"a-general-toolbar":n["a"],"a-footer":p["a"],"a-banner":o["a"]},computed:l()({},Object(u["c"])({meAvatar:"auth/avatar",me:"auth/me",userData:"training/trainer"}),{sheeld:function(){var t="user";return this.userData&&this.userData.role&&(t=this.userData.role),console.log(t),"trainer"==t||"admin"==t?"Trainer":null},wallpaper:function(){return this.userData&&this.userData.wallpaper?this.userData.wallpaper:"statics/profile_top.png"},avatar:function(){return this.userData&&this.userData.avatar?this.userData.avatar:"statics/profile.png"},auth_btns:function(){var t=this;return"me"==this.trainer_id?this.btns.filter(function(a){if(!a.permit)return!0;var e=t.me.role;switch(a.permit){case"upload":return"admin"==e||"trainer"==e;case"trainer":return"admin"==e||"trainer"==e}return!0}):this.btns_public.filter(function(t){return!t.permit||"training"==t.permit})},btns_public:function(){return[{label:"Home",route:"profile.home",permit:"training",params:{id:this.trainer_id}},{label:"Videos",route:"profile.video_lists",permit:"training",params:{id:this.trainer_id}},{label:"About",route:"profile.profile",permit:"training",params:{id:this.trainer_id}}]},profile_name:function(){return"me"==this.trainer_id?this.me.name:this.trainer?this.trainer.name:""}}),watch:{$route:function(t,a){this.updatePageName(t)}},name:"layout",data:function(){return{pageName:"",searchText:"",rightDrawerOpen:!1,trainer_id:"me",btns:[{label:"Home",route:"profile.home",permit:"trainer",params:{id:"me"}},{label:"Saved videos",route:"profile.saved"},{label:"My PlayList",route:"profile.list"},{label:"Settings",route:"profile.settings"},{label:"Uploads",route:"profile.videos",permit:"upload"},{label:"About",route:"profile.profile",permit:"trainer",params:{id:"me"}}]}},mounted:function(){this.updatePageName(this.$router.history.current)},methods:l()({},Object(u["b"])({showSubscribe:"subscribe/showDialog",selectFile:"upload/selectAvatar",selectWallpaper:"upload/selectWallpaper",setAvatar:"auth/avatar",setWallpapers:"auth/wallpaper",sendFollow:"training/follow",getTrainer:"training/getTrainer",setTrainer:"training/setTrainer",clearTrainer:"training/clearTrainer"}),{changePhoto:function(){var t=this;this.selectFile(function(a){t.setAvatar(a)})},changeWallpaper:function(){var t=this;this.selectWallpaper(function(a){t.setWallpapers(a)})},updatePageName:function(t){this.trainer_id="me",t.params&&t.params.id&&(this.trainer_id=t.params.id,this.trainer_id),this.setTrainer(this.me),t.params&&t.params.id&&("me"==t.params.id||this.getTrainer(t.params.id));var a=t.name;switch(a){case"blogs":this.pageName="blog";break;default:this.pageName=a;break}},follow:function(){var t=this;this.userData&&this.sendFollow({id:this.trainer_id,state:this.userData.followed?"unfollow":""}).then(function(a){t.$q.notify({message:t.userData.followed?"You subscribe":"You are unsubscribed",color:"positive"})})}})},d=c,h=(e("dd6L"),e("KHd+")),m=Object(h["a"])(d,r,i,!1,null,null,null);m.options.__file="profile.vue";a["default"]=m.exports}}]);