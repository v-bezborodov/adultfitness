(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"2dlP":function(t,e,a){},"2em9":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"site black",attrs:{view:"lHh Lpr lFf"}},[a("q-layout-header",[a("a-general-toolbar",{attrs:{page:t.pageName}})],1),a("a-mobile-drawer"),a("a-mobile-notify"),a("q-page-container",{staticStyle:{"padding-top":"64px !important"}},[t.me?a("div",{staticClass:"container"},[a("q-card",{staticClass:"profile_card"},[a("q-card-media",{staticClass:"relative-position"},[a("q-btn",{staticClass:"absolute",staticStyle:{top:"10px",right:"10px"},attrs:{type:"a",label:t.trainer&&!t.trainer.followed?"+ Follow":"Unfollow",color:t.trainer&&!t.trainer.followed?"primary":"secondary"},on:{click:t.follow}}),a("img",{attrs:{itemprop:"image",src:t.wallpaper,alt:"adult fitness"}})],1),a("q-card-title",{staticClass:"relative-position",staticStyle:{"padding-top":"2px"}},[a("img",{staticClass:"photo_profile absolute",attrs:{itemprop:"image",src:t.avatar,alt:"adult fitness"},on:{click:t.changePhoto}}),a("span",{staticClass:"proSheeld",domProps:{textContent:t._s("Trainer")}}),a("div",{staticClass:"controls row justify-between items-start"},[a("div",{staticClass:"userProps relative-position"},["me"!=t.trainer_id?a("div",{staticClass:"data"},[a("div",{staticClass:"userName"},[t._v(t._s(t.trainer.name))]),t.trainer.followers?a("div",{staticClass:"followers",staticStyle:{"font-size":"12px","line-height":"12px"}},[t._v(t._s(t.trainer.followers)+" followers")]):t._e()]):t._e()]),a("div",{staticClass:"btns row justify-end"},t._l(t.btns_public,function(e,r){return a("q-btn",{key:r,class:{active:t.pageName==e.route},attrs:{type:"a",size:"md",glossy:"",label:e.label,to:{name:e.route,params:{id:t.trainer_id}}}})}))])])],1)],1):t._e(),a("router-view",{staticClass:"justify-start"})],1),a("a-footer")],1)},i=[];r._withStripped=!0;a("f3/d");var s=a("MVZn"),o=a.n(s),n=a("MUWh"),l=a("4bl9"),u=a("hUN+"),c=a("L2JU"),p=a("B+JZ"),h=a("IWON"),d={components:{"a-general-toolbar":n["a"],"a-footer":u["a"],"a-banner":l["a"],"a-mobile-drawer":p["a"],"a-mobile-notify":h["a"]},computed:o()({},Object(c["c"])({meAvatar:"auth/avatar",me:"auth/me",trainer:"training/trainer",musculeGroup:"video/groups",user:"auth/me",avatar:"auth/avatar",notifies:"notify/list",_showDrawer:"general/showDrawer"}),{showDrawer:{get:function(){return this._showDrawer},set:function(t){console.log(t),this.toggleDrawer(t)}},wallpaper:function(){return this.trainer&&this.trainer.wallpaper?this.trainer.wallpaper:"/statics/profile_top.png"},avatar:function(){return this.trainer&&this.trainer.avatar?this.trainer.avatar:"/statics/profile.png"},profile_name:function(){return this.trainer?this.trainer.name:""}}),watch:{$route:function(t,e){this.updatePageName(t)}},name:"layout",data:function(){return{pageName:"",searchText:"",rightDrawerOpen:!1,trainer_id:"me",btns_public:[{label:"Home",route:"trainer.home",permit:"training"},{label:"Videos",route:"trainer.videos",permit:"training"},{label:"About",route:"trainer.about",permit:"training"}]}},mounted:function(){this.updatePageName(this.$router.history.current)},methods:o()({},Object(c["b"])({showSubscribe:"subscribe/showDialog",selectFile:"upload/selectAvatar",selectWallpaper:"upload/selectWallpaper",setAvatar:"auth/avatar",setWallpapers:"auth/wallpaper",sendFollow:"training/follow",getTrainer:"training/getTrainer",setTrainer:"training/setTrainer",clearTrainer:"training/clearTrainer",markRead:"notify/markRread",toggleDrawer:"general/toggleDrawer",subscribe:"subscribe/showDialog",nread:"notify/read",nremove:"notify/remove",_logout:"auth/logout"}),{logout:function(){var t=this;this._logout().then(function(){t.$router.push("/")})},dropNotify:function(){this.markRead()},changePhoto:function(){},changeWallpaper:function(){var t=this;this.selectWallpaper(function(e){t.setWallpapers(e)})},updatePageName:function(t){var e=this,a=t.name;switch(a){case"blogs":this.pageName="blog";break;default:this.pageName=a;break}if(t.params.id){var r=t.params.id;console.log(),this.trainer_id!=r?this.setTrainer(null).then(function(){e.getTrainer(r).then(function(){e.trainer_id=r,console.log(e.trainer)})}):this.trainer_id=r}console.log("route",this.$router),this.$router.history.push(t)},follow:function(){var t=this;this.trainer&&this.sendFollow({id:this.trainer_id,state:this.trainer.followed?"unfollow":""}).then(function(e){t.$q.notify({message:t.trainer.followed?"You subscribe":"You are unsubscribed",color:"positive"})})},tryOpenPrograms:function(){this.user&&this.user.subscribed?this.$router.push({name:"training.list"}):this.subscribe(!0)},tryRedirect:function(t){var e=this,a=t.name,r="training.list"==a;this.user?this.user.subscribed||!r?this.$router.push(t):this.subscribe(!0):(console.log("r",this.$router.currentRoute),this.setEntry(this.$router.currentRoute.path).then(function(){return e.$router.push({name:"login"})}))},readMessage:function(t){var e=this;this.nread(t.id).then(function(){t.route&&e.$router.push({name:t.route,params:t.param}),e.$q.dialog({title:"Notify",message:t.text,ok:{push:!0,label:"Delete",color:"negative"},cancel:"Ok"}).then(function(){e.nremove(t.id)}).catch(function(){})}),console.log("msg",t)},goTo:function(t){this.updatePageName({name:t.route,params:t.params})}})},f=d,g=(a("TboH"),a("KHd+")),m=Object(g["a"])(f,r,i,!1,null,null,null);m.options.__file="trainer.vue";e["default"]=m.exports},TboH:function(t,e,a){"use strict";var r=a("2dlP"),i=a.n(r);i.a}}]);